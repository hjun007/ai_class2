<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新增试卷 - AI课程助手系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-green-50 to-emerald-100 min-h-screen">
    <!-- 顶部导航栏 -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold text-green-600">➕ 新增试卷</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/teacher/paper-management" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition duration-200">
                        返回试卷管理
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto">
            <!-- 页面标题 -->
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">创建新试卷</h2>
                <p class="text-gray-600">填写试卷基本信息，创建完成后可以添加题目</p>
            </div>

            <!-- 消息提示 -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="mb-6">
                        {% for category, message in messages %}
                            <div class="p-4 rounded-lg {% if category == 'success' %}bg-green-100 text-green-700 border border-green-200{% else %}bg-red-100 text-red-700 border border-red-200{% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- 创建表单 -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <form method="POST" action="/teacher/paper/create">
                    <div class="space-y-6">
                        <!-- 试卷名称 -->
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                                试卷名称 <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="name" 
                                name="name" 
                                required
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="请输入试卷名称，如：Python基础测试卷"
                            >
                            <p class="mt-1 text-sm text-gray-500">试卷名称将显示给学生，请使用清晰的描述性名称</p>
                        </div>

                        <!-- 试卷描述 -->
                        <div>
                            <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
                                试卷描述
                            </label>
                            <textarea 
                                id="description" 
                                name="description" 
                                rows="3"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="可选：添加试卷的详细描述或说明"
                            ></textarea>
                            <p class="mt-1 text-sm text-gray-500">描述信息将帮助您更好地管理试卷</p>
                        </div>

                        <!-- 试卷类型 -->
                        <div>
                            <label for="type" class="block text-sm font-medium text-gray-700 mb-2">
                                试卷类型
                            </label>
                            <select 
                                id="type" 
                                name="type"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                            >
                                <option value="quiz">测验</option>
                                <option value="exam">考试</option>
                                <option value="homework">作业</option>
                                <option value="practice">练习</option>
                            </select>
                        </div>

                        <!-- 时间限制 -->
                        <div>
                            <label for="time_limit" class="block text-sm font-medium text-gray-700 mb-2">
                                时间限制（分钟）
                            </label>
                            <input 
                                type="number" 
                                id="time_limit" 
                                name="time_limit" 
                                min="1"
                                max="480"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="120"
                            >
                            <p class="mt-1 text-sm text-gray-500">设置答题时间限制，0表示无时间限制</p>
                        </div>

                        <!-- 提交按钮 -->
                        <div class="flex justify-end space-x-4 pt-6">
                            <a href="/teacher/paper-management" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                                取消
                            </a>
                            <button type="submit" class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition duration-200">
                                创建试卷
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- 创建说明 -->
            <div class="mt-8 bg-blue-50 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-blue-800 mb-3">📝 创建说明</h3>
                <ul class="space-y-2 text-sm text-blue-700">
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2">•</span>
                        试卷创建后默认为草稿状态，需要手动发布才能让学生看到
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2">•</span>
                        创建完成后可以在试卷管理页面添加题目
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2">•</span>
                        试卷名称和描述可以随时修改
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2">•</span>
                        建议在发布前仔细检查试卷内容和设置
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html> 