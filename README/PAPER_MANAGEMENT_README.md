# 试卷管理功能说明

## 🎯 功能概述

试卷管理模块为老师提供了完整的试卷生命周期管理功能，包括创建、编辑、发布、删除等操作。

## 📋 主要功能

### 1. 试卷管理页面 (`/teacher/paper-management`)
- **功能**: 显示所有试卷的列表视图
- **特性**: 
  - 表格形式展示试卷信息
  - 状态标识（草稿、已发布、已归档）
  - 快速操作按钮
  - 统计信息展示

### 2. 新增试卷 (`/teacher/paper/create`)
- **功能**: 创建新的试卷
- **表单字段**:
  - 试卷名称（必填）
  - 试卷描述（可选）
  - 试卷类型（测验、考试、作业、练习）
  - 时间限制（分钟）

### 3. 编辑试卷 (`/teacher/paper/<id>/edit`)
- **功能**: 修改现有试卷信息
- **可编辑内容**:
  - 试卷名称
  - 试卷状态
- **显示信息**:
  - 试卷ID
  - 创建时间
  - 更新时间
  - 当前状态

### 4. 试卷状态管理
- **草稿状态**: 试卷创建后的默认状态，学生不可见
- **已发布**: 学生可以看到并参与答题
- **已归档**: 试卷不再活跃，但保留历史记录

## 🔧 技术实现

### 路由结构
```
/teacher/paper-management          # 试卷管理主页
/teacher/paper/create             # 新增试卷
/teacher/paper/<id>/edit          # 编辑试卷
/teacher/paper/<id>/delete        # 删除试卷
/teacher/paper/<id>/publish       # 发布试卷
/teacher/paper/<id>/unpublish     # 取消发布
```

### 数据库操作
- `Paper.add_paper()` - 创建试卷
- `Paper.get_all_papers()` - 获取所有试卷
- `Paper.get_paper_by_id()` - 根据ID获取试卷
- `Paper.update_paper_status()` - 更新试卷状态
- `Paper.delete_paper()` - 删除试卷

## 🎨 用户界面

### 设计特点
- **响应式布局**: 支持各种设备尺寸
- **现代化UI**: 使用Tailwind CSS框架
- **状态标识**: 不同颜色区分试卷状态
- **操作确认**: 危险操作需要确认
- **消息反馈**: 操作结果实时反馈

### 页面结构
1. **顶部导航栏**: 页面标题和返回按钮
2. **操作区域**: 新增按钮和页面说明
3. **消息提示**: 操作结果反馈
4. **数据表格**: 试卷列表展示
5. **统计信息**: 试卷数量统计

## 📊 功能特性

### 试卷状态管理
- **状态流转**: 草稿 → 已发布 → 已归档
- **权限控制**: 只有已发布试卷学生可见
- **状态标识**: 清晰的颜色和文字标识

### 操作安全
- **删除确认**: 删除操作需要二次确认
- **状态警告**: 修改已发布试卷时显示警告
- **数据保护**: 防止误操作导致数据丢失

### 用户体验
- **快速操作**: 一键发布/取消发布
- **批量管理**: 支持批量状态修改
- **搜索筛选**: 按状态筛选试卷
- **排序功能**: 按创建时间排序

## 🚀 使用方法

### 1. 访问试卷管理
```
http://localhost:8080/teacher/paper-management
```

### 2. 创建新试卷
1. 点击"新增试卷"按钮
2. 填写试卷基本信息
3. 点击"创建试卷"保存

### 3. 编辑试卷
1. 在试卷列表点击"编辑"
2. 修改试卷信息
3. 点击"保存修改"

### 4. 发布试卷
1. 在试卷列表点击"发布"
2. 确认发布操作
3. 试卷状态变为"已发布"

### 5. 删除试卷
1. 在编辑页面点击"删除试卷"
2. 确认删除操作
3. 试卷及相关数据被删除

## ⚠️ 注意事项

### 数据安全
- 删除试卷会同时删除相关答题记录
- 修改已发布试卷可能影响学生答题
- 建议在操作前备份重要数据

### 最佳实践
- 创建试卷后先添加题目再发布
- 定期归档不再使用的试卷
- 使用清晰的试卷命名规范
- 在修改已发布试卷前通知学生

### 性能考虑
- 大量试卷时建议使用分页
- 定期清理无用的草稿试卷
- 监控数据库性能

## 🔮 未来扩展

### 计划功能
- 试卷模板功能
- 批量导入试卷
- 试卷复制功能
- 试卷版本管理
- 试卷分享功能
- 高级搜索和筛选

### 技术优化
- 前端状态管理优化
- 数据库查询优化
- 缓存机制
- 异步操作支持 